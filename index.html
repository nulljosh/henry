<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Spreadsheet</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f9fafb; }
        .header { background: white; border-bottom: 1px solid #e5e7eb; padding: 12px 24px; }
        .header h1 { font-size: 20px; font-weight: 600; color: #111827; }
        .container { max-width: 1280px; margin: 0 auto; padding: 24px; }
        .card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; overflow: hidden; }
        
        table { width: 100%; border-collapse: collapse; }
        thead { background: #f9fafb; border-bottom: 1px solid #e5e7eb; }
        th { padding: 12px 24px; text-align: left; font-size: 12px; font-weight: 500; color: #6b7280; text-transform: uppercase; }
        th:last-child { text-align: right; }
        tbody tr { border-bottom: 1px solid #f3f4f6; }
        tbody tr:hover { background: #f9fafb; }
        td { padding: 16px 24px; }
        td:last-child { text-align: right; }
        
        input { width: 96px; text-align: right; background: transparent; border: none; outline: none; padding: 4px 8px; border-radius: 4px; }
        input:focus { background: #dbeafe; box-shadow: 0 0 0 2px #3b82f6; }
        
        .goal { color: #059669; font-weight: 600; }
        .asset { color: #2563eb; font-weight: 600; }
        .income { color: #059669; font-weight: 600; }
        .expense { color: #dc2626; }
        .calculated { color: #7c3aed; font-weight: 600; }
        
        .chart-section { border-top: 1px solid #e5e7eb; background: #f9fafb; padding: 24px; }
        .chart-container { background: white; border-radius: 8px; border: 1px solid #e5e7eb; padding: 16px; margin-bottom: 16px; position: relative; overflow: hidden; }
        .chart { width: 100%; height: 160px; }
        .tooltip { position: absolute; top: 8px; left: 8px; background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; box-shadow: 0 10px 15px rgba(0,0,0,0.1); z-index: 20; display: none; font-size: 14px; }
        
        .stocks-section { border-top: 1px solid #e5e7eb; background: #dbeafe; padding: 24px; }
        .stock-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 16px; }
        .stock-card { background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; }
        .stock-symbol { font-weight: 500; color: #6b7280; }
        .stock-subtitle { font-size: 12px; color: #6b7280; margin-bottom: 4px; }
        .stock-price { font-size: 18px; font-weight: 600; color: #059669; }
        .stock-gain { font-size: 12px; color: #166534; }
        
        .summary-section { border-top: 1px solid #e5e7eb; padding: 24px; }
        .summary-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .summary-card { text-align: center; padding: 12px; border-radius: 8px; }
        .green-bg { background: #ecfdf5; }
        .blue-bg { background: #eff6ff; }
        .purple-bg { background: #faf5ff; }
        .summary-value { font-size: 18px; font-weight: 600; }
        .green-text { color: #059669; }
        .blue-text { color: #2563eb; }
        .purple-text { color: #7c3aed; }
        .summary-label { font-size: 12px; margin-top: 4px; }
        
        .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #666; }
        .footer .heart { animation: heartbeat 2s ease-in-out infinite; display: inline-block; vertical-align: middle; }
        @keyframes heartbeat { 0% { transform: scale(1); } 10% { transform: scale(1.2); } 20% { transform: scale(1); } 30% { transform: scale(1.15); } 40% { transform: scale(1); } 100% { transform: scale(1); } }
    </style>
</head>
<body>
    <div class="header">
        <h1>Budget</h1>
    </div>

    <div class="container">
        <div class="card">
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody id="dataTable">
                    <!-- Dynamic content -->
                </tbody>
            </table>

            <div class="chart-section">
                <h3 style="font-weight: 500; margin-bottom: 16px;">Portfolio Growth</h3>
                
                <div class="chart-container">
                    <svg id="chart" viewBox="0 0 600 180" class="chart">
                        <!-- Dynamic chart content -->
                    </svg>
                    <div id="tooltip" class="tooltip"></div>
                </div>
            </div>

            <div class="stocks-section">
                <h3 style="font-weight: 500; margin-bottom: 16px;">Stock Assumptions (Individual Picks)</h3>
                
                <div class="stock-grid">
                    <div class="stock-card">
                        <div class="stock-symbol">HOOD</div>
                        <div class="stock-subtitle">Current â†’ 2027 Target</div>
                        <div class="stock-price">$121 â†’ $300</div>
                        <div class="stock-gain">+148% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">PLTR</div>
                        <div class="stock-subtitle">Current â†’ 2028 Target</div>
                        <div class="stock-price">$177 â†’ $450</div>
                        <div class="stock-gain">+154% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">APP</div>
                        <div class="stock-subtitle">Current â†’ 2027 Target</div>
                        <div class="stock-price">$620 â†’ $1,000</div>
                        <div class="stock-gain">+61% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">NVDA</div>
                        <div class="stock-subtitle">Current â†’ 2027 Target</div>
                        <div class="stock-price">$176 â†’ $300</div>
                        <div class="stock-gain">+70% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">TSLA</div>
                        <div class="stock-subtitle">Current â†’ 2028 Target</div>
                        <div class="stock-price">$423 â†’ $550</div>
                        <div class="stock-gain">+30% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">GOOGL</div>
                        <div class="stock-subtitle">Current â†’ 2028 Target</div>
                        <div class="stock-price">$250 â†’ $500</div>
                        <div class="stock-gain">+100% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">COIN</div>
                        <div class="stock-subtitle">Current â†’ 2027 Target</div>
                        <div class="stock-price">$321 â†’ $600</div>
                        <div class="stock-gain">+87% potential</div>
                    </div>
                    <div class="stock-card">
                        <div class="stock-symbol">META</div>
                        <div class="stock-subtitle">Current â†’ 2028 Target</div>
                        <div class="stock-price">$638 â†’ $1,000</div>
                        <div class="stock-gain">+57% potential</div>
                    </div>
                </div>
                
                <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; font-size: 14px;">
                    <div style="font-weight: 500; color: #374151; margin-bottom: 8px;">2027-2028 Moonshot Targets ðŸš€</div>
                    <div style="color: #059669;">HOOD +148%, PLTR +154%, APP +61%, NVDA +70%, TSLA +30%, GOOGL +100%, COIN +87%, META +57%</div>
                    <div style="color: #2563eb; font-size: 12px; margin-top: 4px;">Average +88% gains - high risk, high reward strategy</div>
                </div>
            </div>

            <div class="summary-section">
                <div class="summary-grid">
                    <div class="summary-card green-bg">
                        <div id="progressValue" class="summary-value green-text">12.7%</div>
                        <div class="summary-label" style="color: #166534;">Progress</div>
                    </div>
                    <div class="summary-card blue-bg">
                        <div id="monthlyTarget" class="summary-value blue-text">$417</div>
                        <div class="summary-label" style="color: #1e40af;">Monthly Target</div>
                    </div>
                    <div class="summary-card purple-bg">
                        <div id="monthlySurplus" class="summary-value purple-text">-$69</div>
                        <div class="summary-label" style="color: #6b21a8;">Monthly Surplus</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer" style="padding-bottom: 40px;">Made with <svg class="heart" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" fill="#FF4136"/></svg> in Vancouver, BC</div>

    <script>
        let data = [
            { category: 'Goal', amount: 10000, type: 'goal' },
            { category: 'Wallet / Savings', amount: 2020, type: 'asset' },
            { category: 'Income', amount: 1060, type: 'income' },
            { category: 'Food', amount: 335, type: 'expense' },
            { category: 'iPhone (Back Pay)', amount: 300, type: 'expense' },
            { category: 'iPhone (Monthly)', amount: 150, type: 'expense' },
            { category: 'Vape', amount: 144, type: 'expense' },
            { category: 'Weed', amount: 100, type: 'expense' }
        ];

        function get(category) {
            const item = data.find(item => item.category === category);
            return item ? item.amount : 0;
        }

        function calculateSurplus() {
            const income = get('Income');
            const totalExpenses = get('Food') + get('iPhone (Monthly)') + get('iPhone (Back Pay)') + get('Vape') + get('Weed');
            return income - totalExpenses;
        }

        function calculateNeeded() {
            return get('Goal') - get('Wallet / Savings');
        }

        function projectValue(months) {
            const r = 0.015; // Individual stocks: 1.5% monthly
            const surplus = calculateSurplus();
            
            const fv = get('Wallet / Savings') * Math.pow(1 + r, months);
            const annuity = surplus * ((Math.pow(1 + r, months) - 1) / r);
            
            return fv + annuity;
        }

        function generateChartData() {
            const chartData = [];
            for (let i = 0; i < 25; i++) {
                const date = new Date(Date.now() + i * 30 * 24 * 60 * 60 * 1000);
                chartData.push({
                    month: date.toLocaleDateString('en', { month: 'short', year: '2-digit' }),
                    val: projectValue(i)
                });
            }
            return chartData;
        }

        function updateTable() {
            const tbody = document.getElementById('dataTable');
            const surplus = calculateSurplus();
            const needed = calculateNeeded();
            
            tbody.innerHTML = '';
            
            data.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="font-weight: 500;">${item.category}</td>
                    <td>
                        <input type="text" value="${item.amount.toLocaleString()}" 
                               class="${item.type}" data-index="${index}"
                               onchange="updateValue(${index}, this.value)">
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Add calculated rows
            const surplusRow = document.createElement('tr');
            surplusRow.innerHTML = `
                <td style="font-weight: 500;">Monthly Surplus</td>
                <td class="calculated">$${surplus.toLocaleString()}</td>
            `;
            tbody.appendChild(surplusRow);

            const neededRow = document.createElement('tr');
            neededRow.innerHTML = `
                <td style="font-weight: 500;">Amount Needed</td>
                <td class="calculated">$${needed.toLocaleString()}</td>
            `;
            tbody.appendChild(neededRow);
        }

        function updateChart() {
            const chartData = generateChartData();
            const maxVal = Math.max(...chartData.map(d => d.val));
            const svg = document.getElementById('chart');
            
            svg.innerHTML = '';
            
            // Create polyline
            const points = chartData.map((d, i) => `${40 + (i * 520/24)},${140 - (d.val/maxVal) * 100}`).join(' ');
            const polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');
            polyline.setAttribute('points', points);
            polyline.setAttribute('fill', 'none');
            polyline.setAttribute('stroke', '#4ade80');
            polyline.setAttribute('stroke-width', '3');
            svg.appendChild(polyline);
            
            // Add circles and hover areas
            chartData.forEach((d, i) => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', 40 + (i * 520/24));
                circle.setAttribute('cy', 140 - (d.val/maxVal) * 100);
                circle.setAttribute('r', '3');
                circle.setAttribute('fill', '#4ade80');
                svg.appendChild(circle);
                
                const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                rect.setAttribute('x', 35 + (i * 520/24));
                rect.setAttribute('y', 35);
                rect.setAttribute('width', '10');
                rect.setAttribute('height', '110');
                rect.setAttribute('fill', 'transparent');
                rect.style.cursor = 'pointer';
                rect.addEventListener('mouseenter', () => showTooltip(i, d));
                rect.addEventListener('mouseleave', hideTooltip);
                svg.appendChild(rect);
            });
            
            // Add month labels
            chartData.filter((_, i) => i % 4 === 0).forEach((d, i) => {
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', 40 + (i * 4 * 520/24));
                text.setAttribute('y', '160');
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('class', 'text-xs');
                text.setAttribute('fill', '#6b7280');
                text.textContent = d.month;
                svg.appendChild(text);
            });
        }

        function showTooltip(index, data) {
            const tooltip = document.getElementById('tooltip');
            tooltip.innerHTML = `
                <div style="font-weight: 500;">${data.month}</div>
                <div style="color: #059669;">$${Math.round(data.val).toLocaleString()}</div>
                <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">Mixed portfolio projection</div>
            `;
            tooltip.style.display = 'block';
        }

        function hideTooltip() {
            document.getElementById('tooltip').style.display = 'none';
        }

        function updateValue(index, value) {
            const cleanValue = parseFloat(value.replace(/,/g, '')) || 0;
            data[index].amount = cleanValue;
            updateAll();
        }

        function updateSummary() {
            const progress = (get('Wallet / Savings') / get('Goal') * 100).toFixed(1);
            const surplus = calculateSurplus();
            const needed = calculateNeeded();
            const monthlyTarget = Math.round(needed / 21);
            
            document.getElementById('progressValue').textContent = `${progress}%`;
            document.getElementById('monthlyTarget').textContent = `$${monthlyTarget.toLocaleString()}`;
            document.getElementById('monthlySurplus').textContent = `$${surplus.toLocaleString()}`;
        }

        function updateAll() {
            updateTable();
            updateChart();
            updateSummary();
        }

        // Initialize
        updateAll();
    </script>
</body>
</html>